

==================================================================================================================
ACTIVATION RECORD: Global
------------------------------------------------------------------------------------------------------------------
Name           Category       Offset         Nested Table   
------------------------------------------------------------------------------------------------------------------
==================================================================================================================


==================================================================================================================
ACTIVATION RECORD: fact
------------------------------------------------------------------------------------------------------------------
Name           Category       Offset         Nested Table   
------------------------------------------------------------------------------------------------------------------
n              param          -20            -
t0             temp           -24            -
t1             temp           -28            -
t2             temp           -32            -
t3             temp           -36            -
t4             temp           -40            -
t5             temp           -44            -
==================================================================================================================



==================================================================================================================
ACTIVATION RECORD: choose
------------------------------------------------------------------------------------------------------------------
Name           Category       Offset         Nested Table   
------------------------------------------------------------------------------------------------------------------
n              param          -20            -
r              param          -16            -
t6             temp           -24            -
t7             temp           -28            -
t8             temp           -32            -
t9             temp           -36            -
t10            temp           -40            -
t11            temp           -44            -
t12            temp           -48            -
t13            temp           -52            -
t14            temp           -56            -
t15            temp           -60            -
==================================================================================================================



==================================================================================================================
ACTIVATION RECORD: main
------------------------------------------------------------------------------------------------------------------
Name           Category       Offset         Nested Table   
------------------------------------------------------------------------------------------------------------------
n              local          -24            -
r              local          -32            -
t16            temp           -28            -
t17            temp           -36            -
t18            temp           -44            -
res            local          -40            -
==================================================================================================================



==================================================================================================================
Symbol Table: Global                              Parent: NULL
------------------------------------------------------------------------------------------------------------------
Name           Type           Category            Initial Value       Size           Offset         Nested Table        
------------------------------------------------------------------------------------------------------------------
fact           int            function            -                   4              0              fact                
choose         int            function            -                   4              4              choose              
main           int            function            -                   4              8              main                
==================================================================================================================


==================================================================================================================
Symbol Table: fact                                               Parent: ST.Global
------------------------------------------------------------------------------------------------------------------
Name           Type           Category            Initial Value       Size           Offset         Nested Table        
------------------------------------------------------------------------------------------------------------------
n              int            param               -                   4              0              -
retValue       int            retVal              -                   4              4              -
t0             int            temp                0                   4              8              -
t1             int            temp                1                   4              12             -
t2             int            temp                1                   4              16             -
t3             int            temp                -                   4              20             -
t4             int            temp                -                   4              24             -
t5             int            temp                -                   4              28             -
==================================================================================================================



==================================================================================================================
Symbol Table: choose                                             Parent: ST.Global
------------------------------------------------------------------------------------------------------------------
Name           Type           Category            Initial Value       Size           Offset         Nested Table        
------------------------------------------------------------------------------------------------------------------
n              int            param               -                   4              0              -
r              int            param               -                   4              4              -
retValue       int            retVal              -                   4              8              -
t6             int            temp                0                   4              12             -
t7             int            temp                1                   4              16             -
t8             int            temp                0                   4              20             -
t9             int            temp                0                   4              24             -
t10            int            temp                -                   4              28             -
t11            int            temp                -                   4              32             -
t12            int            temp                -                   4              36             -
t13            int            temp                -                   4              40             -
t14            int            temp                -                   4              44             -
t15            int            temp                -                   4              48             -
==================================================================================================================



==================================================================================================================
Symbol Table: main                                               Parent: ST.Global
------------------------------------------------------------------------------------------------------------------
Name           Type           Category            Initial Value       Size           Offset         Nested Table        
------------------------------------------------------------------------------------------------------------------
retValue       int            retVal              -                   4              0              -
n              int            local               5                   4              4              -
t16            int            temp                5                   4              8              -
r              int            local               2                   4              12             -
t17            int            temp                2                   4              16             -
res            int            local               -                   4              20             -
t18            int            temp                -                   4              24             -
==================================================================================================================

=============================================================================================================
THREE ADDRESS CODE
-------------------------------------------------------------------------------------------------------------
1: function fact:
2: t0 = 0
3: if n == t0 goto 6
4: goto 9
5: goto 9
6: t1 = 1
7: return t1
8: goto 9
9: t2 = 1
10: t3 = n - t2
11: param t3
12: t4 = call fact, 1
13: t5 = t4 * n
14: return t5
15: end fact
16: function choose:
17: t6 = 0
18: if r == t6 goto 21
19: goto 24
20: goto 24
21: t7 = 1
22: return t7
23: goto 24
24: t8 = 0
25: if n == t8 goto 28
26: goto 31
27: goto 31
28: t9 = 0
29: return t9
30: goto 31
31: param n
32: t10 = call fact, 1
33: param r
34: t11 = call fact, 1
35: t12 = n - r
36: param t12
37: t13 = call fact, 1
38: t14 = t11 * t13
39: t15 = t10 / t14
40: return t15
41: end choose
42: function main:
43: t16 = 5
44: n = t16
45: t17 = 2
46: r = t17
47: param n
48: param r
49: t18 = call choose, 2
50: res = t18
51: return
52: end main

=============================================================================================================

